<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
 
<struts>
    <!-- Configuration for the default package. -->
    <constant name="struts.ui.theme" value="simple" />
    <package name="default" extends="tiles-default" >    
        <interceptors>
            <interceptor class="utils.LoginInterceptor" name="loginInterceptor">
            </interceptor>
            <interceptor-stack name="loginStack">
                <interceptor-ref name="loginInterceptor" />
                <interceptor-ref name="defaultStack" />
            </interceptor-stack>
        </interceptors>
        <default-interceptor-ref name="loginStack"></default-interceptor-ref>
        <global-results>
            <result name="login" type="redirect">/home.action</result>
        </global-results>
        
        <!-- Authentication -->
        <action name="login" class="controller.loginAction">
            <result name="success" type="tiles">index.def</result>
            <result name="input">login.jsp</result>
        </action>   
        <action name="logout" class="controller.loginAction" method="logout">  
            <interceptor-ref name="defaultStack"/>
            <result name="success">login.jsp</result>
        </action> 
        <action name="home">
            <result type="tiles">index.def</result>
            <result name="input">login.jsp</result>
        </action> 
        <!-- End of Authentication -->
        
        <!-- Delivery Request Module -->
        <action name="drHeader" class="controller.GetAllDrHeaderAction" >  
            <result name="success" type="tiles">drHeader.def</result>
        </action>
        <action name="drLinesByDrNo" class="controller.GetAllDrLinesByDrNoAction" >  
            <result name="success" type="tiles">drLine.def</result>
        </action>
        <action name="createDrHeader" class="controller.CreateDrHeaderAction" > 
            <result name="success" type="redirectAction">
                <param name="DrHeaderNo">${selectedDrHeader.drHeaderId}</param> 
                <param name="actionName">drLinesByDrNo</param> 
            </result>
        </action>
        <action name="deleteDrHeader" class="controller.UpdateDrHeaderAction" method="deleteDrHeader" >  
            <result name="success" type="redirectAction">drHeader</result>
        </action>
        <action name="editDrHeader" class="controller.UpdateDrHeaderAction">
            <result name="success" type="redirectAction">drHeader</result>
        </action>
        <action name="drLineDestByNo" class="controller.GetAllDrLineDestByNoAction">
            <result name="success" type="tiles">drLineDest.def</result>
        </action>
         <action name="createDrLine" class="controller.CreateDrLineAction" > 
          <result name="success" type="redirectAction">drHeader</result>
        </action>
        <!-- End of Delivery Request Module -->
        
        <!-- Reporting -->
        <action name="createDeliveryReport" class="controller.CreateReportAction" method="createDeliveryReport" >  
            <result name="delivery-report" type="" >DeliveryRequest/deliveryReport.jsp</result>
        </action>
        <!-- End of Reporting -->
    </package>
    
</struts>
 